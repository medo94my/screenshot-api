# Syntax: https://render.com/docs/yaml-spec

# Screenshot API Service Blueprint for Render

services:
  - name: screenshot-api
    type: web
    plan: standard  # Minimum recommended: Standard (1 GB RAM)
    region: oregon  # Change to your preferred region
    env: python     # We use Docker, but Render needs to know it's Python for some features
    
    # Docker-specific configuration
    docker:
      context: .
      dockerfile: Dockerfile
    
    # Health check path
    healthCheckPath: /health
    
    # Environment variables
    envVars:
      - key: PYTHON_VERSION
        value: "3.12"
      - key: HOST
        value: "0.0.0.0"
      - key: PORT
        fromService:
          type: web
          property: port
      - key: MAX_CONCURRENCY
        value: "2"
      - key: RATE_LIMIT_PER_MINUTE
        value: "30"
      - key: CACHE_TTL_SECONDS
        value: "300"
      - key: CACHE_DIR
        value: "/tmp/screenshot-cache"
      - key: NAV_TIMEOUT_MS
        value: "30000"
      - key: DEBUG
        value: "false"
    
    # Scaling (optional - adjust based on needs)
    scaling:
      minInstances: 1
      maxInstances: 1  # Start with 1, increase if needed

# Note: This blueprint file is for reference. Render Blueprints
# are typically deployed via the Render Dashboard or CLI.
#
# To deploy:
# 1. Push this repository to GitHub
# 2. Go to https://dashboard.render.com/blueprints
# 3. Click "New Blueprint Instance"
# 4. Connect your GitHub repository
# 5. Render will detect render.yaml and deploy accordingly
#
# Alternatively, deploy manually:
# 1. Create a Web Service on Render
# 2. Connect your GitHub repository
# 3. Set Build Command and Start Command as specified in README.md
# 4. Configure environment variables
# 5. Deploy
